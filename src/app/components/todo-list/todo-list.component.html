<div class="title-block">
  <h1>Lista de TODOs</h1>
  <button (click)="openModal()">Adicionar Todo</button>
</div>
<!-- Filter control section-->
<div>
  <label for="priorityFilter">Filtrar por Prioridade:</label>
  <select id="priorityFilter" [(ngModel)]="priorityFilter">
    <option value="">Todas</option>
    <option value="high">Alta</option>
    <option value="medium">Média</option>
    <option value="low">Baixa</option>
  </select>
</div>

<div>
  <label for="descriptionFilter">Filtrar por Descrição:</label>
  <input id="descriptionFilter" type="text" [(ngModel)]="descriptionFilter">
</div>

<!-- Filtered todo list-->
<ul *ngIf="filteredTodos">
  <li *ngFor="let todo of filteredTodos">
    {{ todo.description }} - Due Date: {{ todo.dueDate }} - Priority: {{ todo.priority }} - <a
      (click)="deleteTodoById(todo.id)">Delete</a>
  </li>
</ul>


<div class="modal" *ngIf="isModalOpen">
  <div class="modal-content">
    <h2>Adicionar Todo</h2>

    <form (submit)="addTodo($event)">
      <label for="description">Description:</label>
      <input id="description" type="text" required name="description" [(ngModel)]="newTodo.description" required>
      <label for="dueDate">Due Date</label>
      <input id="dueDate" type="date" required name="dueDate" [(ngModel)]="newTodo.dueDate" required>
      <label for="priority">Prioridade:</label>
      <select id="priority" name="priority" required [(ngModel)]="newTodo.priority" required>
        <option value="" selected disabled hidden>Choose a priority</option>
        <option value="high">High</option>
        <option value="medium">Medium</option>
        <option value="low">Low</option>
      </select>
      <button type="submit">Add</button>
      <button type="button" (click)="closeModal()">Cancel</button>
    </form>
  </div>
</div>